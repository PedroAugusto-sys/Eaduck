<div class="duck-scene" [ngClass]="'size-' + size">
  <!-- Customization Controls -->
  <div class="customization-panel">
    <div class="control-group">
      <label>Size:</label>
      <button (click)="changeSize('small')" [class.active]="size === 'small'">Small</button>
      <button (click)="changeSize('medium')" [class.active]="size === 'medium'">Medium</button>
      <button (click)="changeSize('large')" [class.active]="size === 'large'">Large</button>
    </div>
    <div class="control-group">
      <label>Color:</label>
      <button (click)="changeColor('yellow')" [class.active]="duckColor === 'yellow'">Yellow</button>
      <button (click)="changeColor('white')" [class.active]="duckColor === 'white'">White</button>
      <button (click)="changeColor('orange')" [class.active]="duckColor === 'orange'">Orange</button>
      <button (click)="changeColor('pink')" [class.active]="duckColor === 'pink'">Pink</button>
    </div>
    <div class="control-group">
      <label>Expression:</label>
      <button (click)="changeExpression('happy')" [class.active]="expression === 'happy'">Happy</button>
      <button (click)="changeExpression('excited')" [class.active]="expression === 'excited'">Excited</button>
      <button (click)="changeExpression('thinking')" [class.active]="expression === 'thinking'">Thinking</button>
      <button (click)="changeExpression('sleeping')" [class.active]="expression === 'sleeping'">Sleeping</button>
      <button (click)="changeExpression('surprised')" [class.active]="expression === 'surprised'">Surprised</button>
      <button (click)="changeExpression('angry')" [class.active]="expression === 'angry'">Angry</button>
      <button (click)="changeExpression('love')" [class.active]="expression === 'love'">Love</button>
    </div>
    <div class="control-group">
      <label>Animation Speed:</label>
      <button (click)="changeAnimationSpeed('slow')" [class.active]="animationSpeed === 'slow'">Slow</button>
      <button (click)="changeAnimationSpeed('normal')" [class.active]="animationSpeed === 'normal'">Normal</button>
      <button (click)="changeAnimationSpeed('fast')" [class.active]="animationSpeed === 'fast'">Fast</button>
    </div>
    <div class="control-group">
      <label>Options:</label>
      <button (click)="toggleWater()" [class.active]="showWater">Water</button>
      <button (click)="toggleReflection()" [class.active]="showReflection">Reflection</button>
      <button (click)="toggleSound()" [class.active]="enableSoundEffects">Sound</button>
    </div>
  </div>

  <!-- Water Container -->
  <div class="water-container" *ngIf="showWater">
    <div class="water-surface">
      <div class="water-wave wave-1"></div>
      <div class="water-wave wave-2"></div>
      <div class="water-wave wave-3"></div>
    </div>
    <div class="water-ripple"></div>
  </div>

  <!-- Duck Container -->
  <div
    class="duck-container"
    [ngClass]="[
      'animation-' + animationSpeed,
      'expression-' + expression,
      getDuckColorClass()
    ]"
    (click)="onDuckClick()"
    (dblclick)="onDuckDoubleClick()"
    (mousedown)="onDuckMouseDown($event)"
    (mouseenter)="onDuckHover()"
  >
    <!-- Duck SVG -->
    <svg class="duck-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <!-- Duck Body -->
      <ellipse cx="100" cy="120" rx="45" ry="35" fill="#FFD700" class="duck-body"/>
      
      <!-- Duck Head -->
      <circle cx="100" cy="80" r="25" fill="#FFD700" class="duck-head"/>
      
      <!-- Duck Beak -->
      <ellipse cx="115" cy="85" rx="8" ry="4" fill="#FF8C00" class="duck-beak"/>
      
      <!-- Duck Eyes -->
      <circle cx="95" cy="75" r="3" fill="#000" class="duck-eye left-eye"/>
      <circle cx="105" cy="75" r="3" fill="#000" class="duck-eye right-eye"/>
      
      <!-- Eye highlights -->
      <circle cx="96" cy="74" r="1" fill="#FFF" class="eye-highlight"/>
      <circle cx="106" cy="74" r="1" fill="#FFF" class="eye-highlight"/>
      
      <!-- Duck Wing -->
      <ellipse cx="85" cy="110" rx="15" ry="20" fill="#FFA500" class="duck-wing"/>
      
      <!-- Duck Tail -->
      <ellipse cx="65" cy="115" rx="8" ry="12" fill="#FFA500" class="duck-tail"/>
      
      <!-- Duck Feet (when visible) -->
      <ellipse cx="90" cy="150" rx="6" ry="3" fill="#FF8C00" class="duck-foot left-foot"/>
      <ellipse cx="110" cy="150" rx="6" ry="3" fill="#FF8C00" class="duck-foot right-foot"/>
    </svg>

    <!-- Reflection -->
    <div class="duck-reflection" *ngIf="showReflection && showWater">
      <svg class="duck-reflection-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <!-- Reflected Duck Body -->
        <ellipse cx="100" cy="80" rx="45" ry="35" fill="#FFD700" opacity="0.3" class="reflection-body"/>
        
        <!-- Reflected Duck Head -->
        <circle cx="100" cy="120" r="25" fill="#FFD700" opacity="0.3" class="reflection-head"/>
        
        <!-- Reflected Duck Beak -->
        <ellipse cx="115" cy="115" rx="8" ry="4" fill="#FF8C00" opacity="0.3" class="reflection-beak"/>
        
        <!-- Reflected Duck Wing -->
        <ellipse cx="85" cy="90" rx="15" ry="20" fill="#FFA500" opacity="0.3" class="reflection-wing"/>
      </svg>
    </div>
  </div>

  <!-- Floating particles/bubbles -->
  <div class="floating-particles">
    <div class="particle particle-1"></div>
    <div class="particle particle-2"></div>
    <div class="particle particle-3"></div>
  </div>

  <!-- Quack sound indicator -->
  <div class="quack-indicator">
    <span class="quack-text">Quack!</span>
  </div>
</div>
